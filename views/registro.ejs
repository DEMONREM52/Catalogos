<!-- registro.ejs -->

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrarse</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
    <div class="container mt-5">
        <h2>Registrarse</h2>
        <!-- Formulario de registro -->
        <form action="/registro" method="POST">
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingrese su nombre"
                    required>
            </div>
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input type="email" class="form-control" id="email" name="email"
                    placeholder="Ingrese su correo electrónico" required>
            </div>
            <div class="form-group">
                <label for="contraseña">Contraseña</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="contraseña" name="contraseña"
                        placeholder="Ingrese su contraseña" required>
                    <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                        <i class="bi bi-eye" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

            <div class="form-group">
                <label for="rol">Rol</label>
                <select class="form-control" id="rol" name="rol" required>
                    <option value="default" hidden>Seleccione un rol</option>
                    <option value="admin">Administrador</option>
                    <option value="vendedor">Vendedor</option>
                </select>
            </div>
            <div id="contraseñaAdmin" class="form-group" style="display: none;">
                <label for="passwordAdmin">Contraseña de Administrador</label>
                <input type="password" class="form-control" id="passwordAdmin" name="passwordAdmin"
                    placeholder="Ingrese la contraseña de administrador">
            </div>
            <div id="montoVendedor" class="form-group" style="display: none;">
                <label for="montoVendedorInput">Monto a pagar para ser vendedor $500000</label>
                <input type="number" class="form-control" id="montoVendedorInput" name="montoVendedorInput"
                    placeholder="Ingrese el monto a pagar">
            </div>
            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="aceptarTerminos" required>
                <label class="form-check-label" for="aceptarTerminos">Acepto los <a
                        href="https://publuu.com/flip-book/448547/1011621" target="_blank">Términos y
                        Condiciones de Uso</a></label>
            </div>
            <button type="submit" class="btn btn-primary">Registrarse</button>
        </form>



        <p class="mt-3">¿Ya tienes una cuenta? <a href="/inicio-sesion">Iniciar Sesión</a></p>
    </div>
</body>



<script>
    document.getElementById('rol').addEventListener('change', function () {
        var rolSeleccionado = this.value;
        if (rolSeleccionado === 'admin') {
            document.getElementById('contraseñaAdmin').style.display = 'block';
            document.getElementById('montoVendedor').style.display = 'none';
        } else if (rolSeleccionado === 'vendedor') {
            document.getElementById('contraseñaAdmin').style.display = 'none';
            document.getElementById('montoVendedor').style.display = 'block';
        }
    });
</script>


<script>
    document.getElementById('togglePassword').addEventListener('click', function () {
        const contraseñaInput = document.getElementById('contraseña');
        const tipo = contraseñaInput.getAttribute('type') === 'password' ? 'text' : 'password';
        contraseñaInput.setAttribute('type', tipo);
        // Cambiar el icono del botón
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
    });
</script>



</html>